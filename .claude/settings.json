{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "version": "2.0",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/check-agent-economics.sh",
            "description": "Check multi-agent economic viability (15x cost requires 15x+ value)",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/validate-research-pack.sh",
            "description": "Validates ResearchPack before planning phase",
            "timeout": 60
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/validate-implementation-plan.sh",
            "description": "Validates Implementation Plan before coding",
            "timeout": 60
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/auto-format.sh",
            "description": "Auto-format code after file edits",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "Read|Grep|WebFetch",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/suggest-context-edits.sh",
            "description": "Suggest context optimizations to prevent context rot",
            "timeout": 10
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/update-knowledge-core.sh",
            "description": "Capture patterns at end of session",
            "timeout": 60
          }
        ]
      }
    ]
  },
  "agents": {
    "path": ".claude/agents",
    "autoload": true
  },
  "skills": {
    "path": ".claude/skills",
    "autoload": true
  },
  "memory": {
    "files": [
      "CLAUDE.md",
      "knowledge-core.md"
    ]
  },
  "workflow": {
    "enforce_phases": true,
    "quality_gates": {
      "research_min_score": 80,
      "plan_min_score": 85
    }
  },
  "preferences": {
    "output_style": "concise",
    "progress_updates": true,
    "anti_stagnation": true
  }
}
