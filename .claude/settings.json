{
  "$schema": "https://cdn.jsdelivr.net/npm/@anthropic-ai/claude-code@latest/schemas/settings.schema.json",
  "version": "2.0",
  "hooks": {
    "PreToolUse": [
      {
        "name": "validate-research-before-planning",
        "description": "Ensures ResearchPack meets quality standards before planning phase",
        "matcher": "implementation-planner",
        "command": ".claude/hooks/validate-research-pack.sh",
        "enabled": true,
        "action": "warn"
      },
      {
        "name": "validate-plan-before-implementation",
        "description": "Ensures Implementation Plan meets quality standards before coding",
        "matcher": "code-implementer",
        "command": ".claude/hooks/validate-implementation-plan.sh",
        "enabled": true,
        "action": "warn"
      }
    ],
    "PostToolUse": [
      {
        "name": "auto-format-code",
        "description": "Automatically format code after file edits",
        "matcher": "Write|Edit",
        "command": ".claude/hooks/auto-format.sh",
        "enabled": true,
        "action": "continue"
      },
      {
        "name": "run-tests-after-implementation",
        "description": "Automatically run tests after code changes",
        "matcher": "code-implementer",
        "command": ".claude/hooks/run-tests.sh",
        "enabled": false,
        "action": "warn",
        "comment": "Disabled by default - enable when test suite is fast"
      }
    ],
    "Stop": [
      {
        "name": "update-knowledge-core",
        "description": "Capture patterns and update knowledge-core.md at end of session",
        "matcher": "*",
        "command": ".claude/hooks/update-knowledge-core.sh",
        "enabled": true,
        "action": "continue"
      }
    ]
  },
  "agents": {
    "path": ".claude/agents",
    "autoload": true
  },
  "skills": {
    "path": ".claude/skills",
    "autoload": true
  },
  "memory": {
    "files": [
      "CLAUDE.md",
      "knowledge-core.md"
    ]
  },
  "workflow": {
    "enforce_phases": true,
    "quality_gates": {
      "research_min_score": 80,
      "plan_min_score": 85
    }
  },
  "preferences": {
    "output_style": "concise",
    "progress_updates": true,
    "anti_stagnation": true
  }
}
