{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "version": "2.0",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": {"tools": ["Task"]},
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/validate-research-pack.sh",
            "description": "Validates ResearchPack before planning phase"
          }
        ]
      },
      {
        "matcher": {"tools": ["Task"]},
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/validate-implementation-plan.sh",
            "description": "Validates Implementation Plan before coding"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": {"tools": ["Write", "Edit"]},
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/auto-format.sh",
            "description": "Auto-format code after file edits"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": {"tools": ["*"]},
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/update-knowledge-core.sh",
            "description": "Capture patterns at end of session"
          }
        ]
      }
    ]
  },
  "agents": {
    "path": ".claude/agents",
    "autoload": true
  },
  "skills": {
    "path": ".claude/skills",
    "autoload": true
  },
  "memory": {
    "files": [
      "CLAUDE.md",
      "knowledge-core.md"
    ]
  },
  "workflow": {
    "enforce_phases": true,
    "quality_gates": {
      "research_min_score": 80,
      "plan_min_score": 85
    }
  },
  "preferences": {
    "output_style": "concise",
    "progress_updates": true,
    "anti_stagnation": true
  }
}
